# =============================================================================
# Oasis Crypto Trade - Environment Configuration Template
# =============================================================================
# Copy this file to .env and update with your specific values
# Never commit actual .env files to version control!
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, testing, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Testing mode (true/false) 
TESTING=false

# Application details
APP_NAME="Oasis Crypto Trade"
APP_VERSION="1.0.0"
APP_DESCRIPTION="Enterprise-grade algorithmic trading system"

# API Configuration
API_PREFIX="/api/v1"
API_HOST="0.0.0.0"
API_PORT=8000
API_WORKERS=1

# Request/Response Configuration
REQUEST_TIMEOUT=30
MAX_REQUEST_SIZE=16777216
CORS_ORIGINS=["*"]

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Application secrets (generate with: make generate-secrets)
SECRET_KEY=your_secret_key_here_minimum_32_characters
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
JWT_REFRESH_EXPIRE_DAYS=7

# Encryption
ENCRYPTION_KEY=your_encryption_key_here

# Session management
SESSION_SECRET=your_session_secret_here

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Configuration
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Primary Database
POSTGRES_HOST=oasis-postgres
POSTGRES_PORT=5432
POSTGRES_DB=oasis_trading_db
POSTGRES_USER=oasis_admin
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_SCHEMA=public

# Database Pool Configuration
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Database Features
DB_ECHO=false
DB_ECHO_POOL=false

# Analytics Database (can be same as primary)
ANALYTICS_DB_HOST=oasis-postgres
ANALYTICS_DB_PORT=5432
ANALYTICS_DB_NAME=oasis_analytics_db

# =============================================================================
# CACHE CONFIGURATION (Redis)
# =============================================================================

# Redis Primary Configuration
REDIS_HOST=oasis-redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_SSL=false

# Redis Connection Pool
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=20
REDIS_RETRY_ON_TIMEOUT=true

# Cache Configuration
CACHE_TTL=3600
CACHE_PREFIX="oasis:"

# =============================================================================
# MESSAGE QUEUE CONFIGURATION (Kafka)
# =============================================================================

# Kafka Broker Configuration
KAFKA_BOOTSTRAP_SERVERS=["oasis-kafka:29092"]
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# Kafka Producer Configuration
KAFKA_PRODUCER_ACKS=all
KAFKA_PRODUCER_RETRIES=3
KAFKA_PRODUCER_BATCH_SIZE=16384
KAFKA_PRODUCER_LINGER_MS=10
KAFKA_PRODUCER_MAX_REQUEST_SIZE=1048576

# Kafka Consumer Configuration
KAFKA_CONSUMER_GROUP_ID=oasis-consumer
KAFKA_CONSUMER_AUTO_OFFSET_RESET=latest
KAFKA_CONSUMER_ENABLE_AUTO_COMMIT=false
KAFKA_CONSUMER_MAX_POLL_RECORDS=500

# Schema Registry
SCHEMA_REGISTRY_URL=http://oasis-schema-registry:8081

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging Level (CRITICAL, ERROR, WARNING, INFO, DEBUG)
LOG_LEVEL=INFO

# Log Format (json, text)
LOG_FORMAT=json

# Log File (leave empty for console only)
LOG_FILE=

# Log Settings
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Structured Logging
LOG_CORRELATION_ID=true
LOG_REQUEST_ID=true
LOG_USER_ID=false

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PREFIX=oasis_
METRICS_PORT=9090

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH="/health"

# Distributed Tracing
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1
JAEGER_ENDPOINT=

# =============================================================================
# TRADING SPECIFIC CONFIGURATION
# =============================================================================

# Market Data Configuration
MARKET_DATA_WEBSOCKET_TIMEOUT=30
MARKET_DATA_RECONNECT_INTERVAL=5
MARKET_DATA_MAX_RECONNECT_ATTEMPTS=10

# Risk Management
MAX_POSITION_SIZE=0.1
MAX_DAILY_LOSS=0.02
MAX_DRAWDOWN=0.05

# Performance Monitoring
PERFORMANCE_CALCULATION_INTERVAL=60

# =============================================================================
# EXCHANGE API CONFIGURATIONS
# =============================================================================

# Binance
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET=your_binance_secret_here
BINANCE_SANDBOX=true

# Coinbase Pro
COINBASE_API_KEY=your_coinbase_api_key_here
COINBASE_SECRET=your_coinbase_secret_here
COINBASE_PASSPHRASE=your_coinbase_passphrase_here
COINBASE_SANDBOX=true

# Kraken
KRAKEN_API_KEY=your_kraken_api_key_here
KRAKEN_SECRET=your_kraken_secret_here
KRAKEN_SANDBOX=true

# Bitfinex
BITFINEX_API_KEY=your_bitfinex_api_key_here
BITFINEX_SECRET=your_bitfinex_secret_here
BITFINEX_SANDBOX=true

# =============================================================================
# EXTERNAL SERVICE CONFIGURATIONS
# =============================================================================

# CryptoCompare (for historical data)
CRYPTOCOMPARE_API_KEY=your_cryptocompare_api_key_here

# CoinGecko
COINGECKO_API_KEY=your_coingecko_api_key_here

# NewsAPI (for sentiment analysis)
NEWSAPI_KEY=your_newsapi_key_here

# Alpha Vantage (for additional data)
ALPHAVANTAGE_API_KEY=your_alphavantage_api_key_here

# =============================================================================
# NOTIFICATION CONFIGURATIONS
# =============================================================================

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password_here
SMTP_TLS=true

# Slack Webhooks
SLACK_WEBHOOK_URL=your_slack_webhook_url_here

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Discord Webhooks
DISCORD_WEBHOOK_URL=your_discord_webhook_url_here

# =============================================================================
# CLOUD PROVIDER CONFIGURATIONS (Optional)
# =============================================================================

# AWS (if using AWS services)
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET=oasis-trading-data

# Google Cloud (if using GCP services)
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
GCP_PROJECT_ID=your_gcp_project_id_here

# Azure (if using Azure services)
AZURE_STORAGE_ACCOUNT=your_azure_storage_account_here
AZURE_STORAGE_KEY=your_azure_storage_key_here

# =============================================================================
# DEVELOPMENT SPECIFIC SETTINGS
# =============================================================================

# Development Database (override for local development)
# Uncomment these lines for local development with different database
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_PASSWORD=dev_password_123

# Development Cache (override for local development)
# Uncomment these lines for local development with different Redis
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=dev_redis_123

# Development Kafka (override for local development)
# Uncomment these lines for local development with different Kafka
# KAFKA_BOOTSTRAP_SERVERS=["localhost:9092"]

# =============================================================================
# TESTING SPECIFIC SETTINGS
# =============================================================================

# Test Database
TEST_POSTGRES_DB=oasis_test_db
TEST_REDIS_DB=1

# Test Settings
SKIP_DB_TESTS=false
SKIP_CACHE_TESTS=false
SKIP_EXTERNAL_TESTS=false

# =============================================================================
# PRODUCTION SPECIFIC SETTINGS
# =============================================================================

# Production Database Backup
# DB_BACKUP_ENABLED=true
# DB_BACKUP_SCHEDULE="0 2 * * *"
# DB_BACKUP_RETENTION_DAYS=30

# Production Monitoring
# ALERTING_ENABLED=true
# GRAFANA_URL=https://grafana.oasis-crypto-trade.com
# PROMETHEUS_URL=https://prometheus.oasis-crypto-trade.com

# Production Security
# SSL_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/certs/oasis.crt
# SSL_KEY_PATH=/etc/ssl/private/oasis.key

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Trading Features
ENABLE_PAPER_TRADING=true
ENABLE_LIVE_TRADING=false
ENABLE_BACKTESTING=true
ENABLE_STRATEGY_OPTIMIZATION=true

# Data Features
ENABLE_MARKET_DATA_RECORDING=true
ENABLE_TRADE_HISTORY_EXPORT=true
ENABLE_PERFORMANCE_ANALYTICS=true

# UI Features
ENABLE_WEB_DASHBOARD=true
ENABLE_MOBILE_APP=false
ENABLE_API_DOCS=true

# Advanced Features
ENABLE_ML_STRATEGIES=true
ENABLE_SENTIMENT_ANALYSIS=true
ENABLE_NEWS_INTEGRATION=true
ENABLE_SOCIAL_TRADING=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Worker Processes
WORKER_PROCESSES=1
WORKER_THREADS=4
WORKER_CONNECTIONS=1000

# Memory Settings
MAX_MEMORY_USAGE=2048  # MB
MEMORY_CHECK_INTERVAL=60  # seconds

# Database Connection Pool Tuning
DB_CONNECTION_POOL_SIZE=20
DB_CONNECTION_POOL_MAX_OVERFLOW=0
DB_CONNECTION_POOL_TIMEOUT=30

# Cache Performance
CACHE_CONNECTION_POOL_SIZE=20
CACHE_MAX_CONNECTIONS=100

# =============================================================================
# COMPLIANCE & REGULATORY
# =============================================================================

# Compliance Settings
ENABLE_AUDIT_LOGGING=true
ENABLE_TRANSACTION_MONITORING=true
ENABLE_RISK_REPORTING=true

# Data Retention (in days)
TRADE_DATA_RETENTION=2555  # 7 years
LOG_DATA_RETENTION=90      # 3 months
AUDIT_DATA_RETENTION=2555  # 7 years

# Privacy Settings
ENABLE_DATA_ENCRYPTION=true
ENABLE_PII_MASKING=true
GDPR_COMPLIANCE=true

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Data Export
EXPORT_ENABLED=true
EXPORT_FORMAT=json
EXPORT_COMPRESSION=gzip

# Disaster Recovery
DR_ENABLED=false
DR_BACKUP_LOCATION=s3://oasis-dr-backup/
DR_RESTORE_POINT_INTERVAL=6  # hours

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================

# 1. Copy this file to .env and update the values
# 2. Generate secure secrets using: make generate-secrets
# 3. Never commit .env files to version control
# 4. Use different .env files for different environments:
#    - .env.development
#    - .env.testing  
#    - .env.staging
#    - .env.production
# 5. For production, consider using a secrets management service
# 6. Regularly rotate secrets and API keys
# 7. Monitor for unauthorized access to configuration files